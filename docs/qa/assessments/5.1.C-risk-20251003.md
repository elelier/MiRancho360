# Risk Assessment

## Story: 5.1.C - Input Improvements

### Summary

- Story Scope: Shared input controls (Input, Select, Textarea) new success/disabled/focus behaviour + showcase route
- Review Date: 2025-10-03
- Reviewer: Quinn (Test Architect)
- Overall Story Risk Score: 88

### Top Risks

1. TECH-001 – Success/Error interplay regressions in forms
2. BUS-001 – Accessibility contrast and assistive feedback gaps
3. OPS-001 – Manual accessibility checks pending from DoD

## Risk Matrix

| Risk ID  | Description                                                       | Probability | Impact    | Score | Priority |
|----------|-------------------------------------------------------------------|-------------|-----------|-------|----------|
| TECH-001 | Success + error styling may conflict with live validation flows   | Medium (2)  | Medium (2) | 4    | Medium   |
| BUS-001  | New success/disabled colors or placeholder hints fail WCAG/ARIA   | Medium (2)  | High (3)  | 6    | High     |
| OPS-001  | Required manual checks (contrast, SR, Lighthouse) left undone     | Medium (2)  | Medium (2) | 4    | Medium   |

### Risk Register

#### TECH-001 – Success and error states overlap
- Category: Technical
- Description: Inputs now compute `hasSuccess` only when no error but view models may pass both strings concurrently, leading to unexpected success styling or missing error surfaces in downstream forms.
- Probability: Medium (2)
- Impact: Medium (2)
- Score: 4 (Medium)
- Affected Components: `Input.tsx`, form consumers (Animals, Onboarding)
- Detection Method: Code review / scenario analysis
- Mitigation:
  - Extend unit tests to cover simultaneous `error` + `success` props (ensure error takes precedence)
  - Add integration smoke once wired into real form flows (e.g., Animal creation)
- Residual Risk: Monitor when forms adopt new API

#### BUS-001 – Accessibility compliance gaps
- Category: Business/UX
- Description: Success text uses green-600 and disabled text grey; without contrast verification these may miss WCAG AA or screen readers may not announce `role="status"` consistently, hurting senior users.
- Probability: Medium (2)
- Impact: High (3)
- Score: 6 (High)
- Affected Components: `Input.tsx`, `Select`, `Textarea`, `index.css`
- Detection Method: DoD review (contrast + SR)
- Mitigation:
  - Execute Lighthouse + axe scans on `/demo/input`
  - Document color tokens meeting 4.5:1, adjust to greener/darker if needed
  - Verify SR announcement (NVDA/VoiceOver) for success/error feedback
- Residual Risk: Pending manual validation

#### OPS-001 – Manual validation backlog
- Category: Operational
- Description: Dev notes mark manual contrast, Lighthouse, and SR passes as outstanding; without scheduling they may slip, leaving story partially validated.
- Probability: Medium (2)
- Impact: Medium (2)
- Score: 4 (Medium)
- Affected Areas: QA workflow, release checklist
- Detection Method: DoD cross-check
- Mitigation:
  - Log QA task to execute remaining validations before release
  - Add `/demo/input` review to regression checklist alongside `/demo/card`
- Residual Risk: Low once tasks assigned

### Risk-Based Testing Strategy

**Priority 1 – High Risk (BUS-001)**
- Run Lighthouse accessibility + color contrast checks on new states
- Perform screen reader smoke (NVDA/VoiceOver) verifying success/error announcements

**Priority 2 – Medium Risks (TECH-001, OPS-001)**
- Unit/integration tests ensuring errors override success
- Regression across existing forms (Animal creation, Reminders) exercising disabled & required placeholders
- Track completion of manual DoD checks via QA checklist

### Monitoring & Follow-up

- Capture accessibility metrics per release (Lighthouse = 90) for shared input components
- Add `/demo/input` walkthrough to release regression plan
- Monitor bug backlog for form validation regressions after rollout

---

Risk profile: docs/qa/assessments/5.1.C-risk-20251003.md
